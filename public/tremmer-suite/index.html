<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tremmer Suite â€“ Planning & Voortgang</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
<header class="app-header">
  <h1>ðŸš¢ Tremmer Suite</h1>
  <nav class="tabs">
    <button class="tab-btn active" data-tab="dashboard">Dashboard</button>
    <button class="tab-btn" data-tab="tremmers">Tremmers</button>
    <button class="tab-btn" data-tab="ruimen">Ruimen</button>
    <button class="tab-btn" data-tab="overdracht">Overdracht</button>
    <button class="tab-btn" data-tab="instellingen">Instellingen</button>
  </nav>
</header>

<main>
  <!-- DASHBOARD -->
  <section id="dashboard" class="tab active">
    <div class="kpis">
      <div class="kpi">
        <div class="kpi-title">Gem. voortgang</div>
        <div class="kpi-value" id="kpiAvg">â€“%</div>
      </div>
      <div class="kpi">
        <div class="kpi-title">Op schema</div>
        <div class="kpi-value" id="kpiOnTrack">â€“</div>
      </div>
      <div class="kpi">
        <div class="kpi-title">Achterstand</div>
        <div class="kpi-value" id="kpiBehind">â€“</div>
      </div>
      <div class="kpi">
        <div class="kpi-title">Taken open</div>
        <div class="kpi-value" id="kpiOpen">â€“</div>
      </div>
    </div>

    <div class="panel">
      <div class="panel-header">
        <h2>Hotspots (laagste 5 taken)</h2>
        <small>Op basis van drempels en planning</small>
      </div>
      <div id="hotspots"></div>
    </div>
  </section>

  <!-- TREMMERS -->
  <section id="tremmers" class="tab">
    <div class="toolbar">
      <input id="searchInput" type="search" placeholder="Zoek op naam/taakâ€¦"/>
      <button id="btnNewTask">+ Nieuwe taak</button>
      <div class="spacer"></div>
      <input. type="file" id="importFile" accept="application/json"/>
      <button id="btnExport">Export JSON</button>
      <button id="btnReset">Demo reset</button>
    </div>

    <div class="table-wrap">
      <table class="data-table" id="tasksTable">
        <thead>
        <tr>
          <th>Leerling</th>
          <th>Taak</th>
          <th>Start</th>
          <th>Einde</th>
          <th>Voortgang (%)</th>
          <th>Status</th>
          <th>Acties</th>
        </tr>
        <link rel="stylesheet" href="style.css">
<script defer src="main.js"></script>
</body>
</html>
        </thead>
        <tbody><!-- filled by JS --></tbody>
      </table>
    </div>
  </section>

  <!-- RUIMEN -->
  <section id="ruimen" class="tab">
    <div class="form-grid">
      <label>
        Boot-type
        <select id="shipType">
          <option value="west">West-Boot</option>
          <option value="oost">Oost-Boot</option>
          <option value="kolen">Kolen-Boot</option>
          <option value="erts">Erts-Boot</option>
        </select>
      </label>
      <label>
        Aantal ruimen
        <select id="holdCount">
          <option value="7">7</option>
          <option value="9" selected>9</option>
        </select>
      </label>
      <button id="btnClearHolds">Leeg status</button>
    </div>

    <div class="ship-wrap">
      <svg id="shipSvg" viewBox="0 0 900 220" class="ship-svg" aria-label="Ruimen">
        <!-- romp -->
        <rect x="10" y="120" width="880" height="60" rx="8" class="hull"/>
        <!-- ruimen (JS vult) -->
      </svg>
    </div>

    <div class="panel">
      <div class="panel-header">
        <h2>Ruim details</h2>
        <small>Klik op een ruim om status/notaâ€™s te bewerken</small>
      </div>
      <form id="holdForm" class="form-grid">
        <label>
          Ruim #
          <input id="holdId" type="text" readonly/>
        </label>
        <label>
          Status
          <select id="holdStatus">
            <option value="open">Open</option>
            <option value="bezig">Bezig</option>
            <option value="klaar">Klaar</option>
            <option value="geblokkeerd">Geblokkeerd</option>
          </select>
        </label>
        <label class="grid-span-2">
          Notities
          <textarea id="holdNotes" rows="3" placeholder="Bijv. kraan-wissel, water, obstructieâ€¦"></textarea>
        </label>
        <button type="submit">Opslaan</button>
      </form>
      <div id="holdLog" class="log"></div>
    </div>
  </section>

  <!-- OVERDRACHT -->
  <section id="overdracht" class="tab">
    <form id="handoverForm" class="form-grid">
      <label class="grid-span-2">
        Samenvatting vorige wacht
        <textarea id="handoverPrev" rows="3" placeholder="Status dieplepel, shovel, storingenâ€¦"></textarea>
      </label>
      <label class="grid-span-2">
        Plan komende wacht
        <textarea id="handoverNext" rows="3" placeholder="Volgorde ruimen, kraanverzoek, risicoâ€™sâ€¦"></textarea>
      </label>
      <label>
        Foto/Bestand (optioneel)
        <input type="file" id="handoverFile" />
      </label>
      <button type="submit">Opslaan als log</button>
    </form>
    <div class="panel">
      <div class="panel-header">
        <h2>Overdrachtslog</h2>
      </div>
      <div id="handoverLog" class="log"></div>
    </div>
  </section>

  <!-- INSTELLINGEN -->
  <section id="instellingen" class="tab">
    <form id="settingsForm" class="form-grid">
      <label>
        Periode start (datum)
        <input type="date" id="cfgStartDate"/>
      </label>
      <label>
        Aantal maanden
        <input type="number" id="cfgMonths" min="1" max="24" value="3"/>
      </label>
      <label>
        Drempel â€“ Klaar (>=)
        <input type="number" id="cfgGreen" min="0" max="100" value="90"/>
      </label>
      <label>
        Drempel â€“ Op schema (>=)
        <input type="number" id="cfgAmber" min="0" max="100" value="60"/>
      </label>
      <button type="submit">Opslaan</button>
    </form>
    <div class="panel">
      <div class="panel-header">
        <h2>Audit-Log</h2>
      </div>
      <div id="auditLog" class="log"></div>
    </div>
  </section>
</main>

<!-- DIALOG: nieuwe/aanpassen taak -->
<dialog id="taskDialog">
  <form id="taskForm" method="dialog">
    <h3 id="taskDialogTitle">Nieuwe taak</h3>
    <div class="form-grid">
      <label>
        Leerling
        <input type="text" id="fStudent" required placeholder="Naam (bijv. Ali)"/>
      </label>
      <label>
        Taak
        <input type="text" id="fTask" required placeholder="Bijv. machine beheersing"/>
      </label>
      <label>
        Start
        <input type="date" id="fStart" required/>
      </label>
      <label>
        Einde
        <input type="date" id="fEnd" required/>
      </label>
      <label>
        Voortgang (%)
        <input type="number" id="fProgress" min="0" max="100" value="0" required/>
      </label>
      <input type="hidden" id="fId"/>
      <div class="dialog-actions grid-span-2">
        <button. value="cancel" class="btn-outline">Annuleer</button>
        <button. id="btnSaveTask" value="default">Opslaan</button>
      </div>
    </div>
  </form>
</dialog>

<script type="module" src="main.js"></script>
<link rel="stylesheet" href="style.css">
</body>
</html>